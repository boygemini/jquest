"use strict";function lockLogo(t){0===t&&window.screen.availWidth<=767&&(document.querySelector(".logo").style.position="fixed"),t>0&&window.screen.availWidth<=767&&(document.querySelector(".logo").style.position="relative")}function reset(){let t=Object.entries(USERS_FILE).map(t=>t[1]).filter(t=>Object.keys(t).length>0);t.length>1&&(animateErrorMessage(3e3,600,20,"Survey has been reset because you changed your Primary Area Of Expertise.","show-reset-message","remove-reset-message"),USERS_FILE={1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{},9:{},10:{},11:{},12:{},13:{},14:{},15:{},16:{},17:{},18:{},19:{},20:{}})}function openMenu(){menuContainer.style.display="flex",gsap.fromTo(menuContainer,{x:-100,opacity:0},{x:0,opacity:1,duration:.8,ease:"power4.out"}),menuChildren.forEach(t=>{gsap.fromTo(t,{x:-100,opacity:0},{x:0,opacity:1,duration:.15},"<20%")})}function closeMenu(){menuChildren.forEach(t=>{t.classList.value.includes("home")&&gsap.fromTo(t,{x:0,opacity:1},{x:-100,opacity:0,duration:.25}),t.classList.value.includes("home")||gsap.fromTo(t,{x:0,opacity:1},{x:-100,opacity:0,duration:.25},"<25%")}),gsap.fromTo(menuContainer,{x:0,opacity:1},{x:-100,opacity:0,duration:.5,ease:"power4.out"},">"),debounce(()=>{menuContainer.style.display="none"},800)()}function showChangeEmailModal(){closeMenu(),window.removeEventListener("keydown",entkeydownHandler),saveNewEmailModal.style.display="flex",gsap.to(saveNewEmailModal,{opacity:1,duration:.3})}function validateAndSaveNewUserEmail(){let t=saveNewEmailField.value.trim();emailRegex.test(t)&&(sessionStorage.setItem("email",t),saveNewEmailField.classList.remove("empty-email-field"),closeModal(),userEmail.focus(),userEmail.value=t),emailRegex.test(t)||(saveNewEmailField.classList.add("empty-email-field"),animateErrorMessage(3e3,600,20,"Please enter a valid email address.","show-error-message","remove-error-message"))}function goHome(){closeMenu(),backToWelcome(),debounce(()=>{starterPage.style.display="flex",ContinueButton.classList.add("widen"),ContinueButton.style.display="flex",BackButton.style.display="none",body.classList.remove("blurbody"),setStage(0),lockLogo(0)},450)()}function closeModal(){gsap.to(changeEmailContainer,{opacity:0,duration:.25}),gsap.to(resubmitEmailContainer,{opacity:0,duration:.25}),gsap.to(saveNewEmailModal,{opacity:0,duration:.25}),debounce(()=>{changeEmailContainer.style.display="none",resubmitEmailContainer.style.display="none",saveNewEmailModal.style.display="none"},250)()}function closeErrorMessage(){errorMessage.classList.value="error-message remove-error-message",debounce(()=>{gsap.to(".circle-progress",{opacity:1,duration:.3})},200)()}function showSending(t){if(successText.style.opacity="0",successText.innerText=t,loaderDOM.style.width=submitLoader.scrollWidth+50+"px",loaderDOM.classList.remove("remove"),loaderDOM.classList.add("show"),loaderDOM.style.backgroundColor="orange",screen.width>1024){const t=debounce(()=>{successText.style.display="flex",loaderDOM.style.justifyContent="flex-start",loaderDOM.style.width=submitLoader.scrollWidth+successText.scrollWidth+50+"px"},700);t();const e=debounce(()=>{successText.style.opacity="1"},900);e()}}function validateEmail(t,e){let n=t;return emailRegex.test(n)?emailRegex.test(n)?(Questions.length,!0):void 0:(animateErrorMessage(3e3,600,20,"Please enter a valid email address.","show-error-message","remove-error-message"),!1)}function animateProgress(t){let e=Object.entries(USERS_FILE).map(t=>t[1]).filter(t=>Object.keys(t).length>0),n=Object.keys(USERS_FILE).length,a=Math.floor(e.length/n*100),s=Math.floor(a/100*502);progressSVG.style.transition=".5s",progressSVG.style.strokeDashoffset=502-s,progress.innerHTML=`${a}%`,t>=Questions.length?currentStage.innerHTML=`${t-1} / ${n}`:currentStage.innerHTML=`${t} / ${n}`}function sendEmail(t){let e=Object.entries(USERS_FILE).map(t=>t[1]).filter(t=>0===Object.keys(t).length);if(0===e.length){let e=Object.values(USERS_FILE),n=[];for(let t in e)n="2"===t||"8"===t||"9"===t?[...n,Object.values(e[t]).map(t=>t.answerText).join(", ")]:[...n,Object.values(e[t])[0].answerText];let a="";const s=t=>2===t||3===t?Questions[t].question+n[0]:Questions[t].question;for(let t=1;t<=n.length;t++)a+=`<div id="test"\n\t\t\t\t\t\tstyle="background-color: #344854;\n\t\t\t\t\t\tpadding: 15px;\n\t\t\t\t\t\tborder-radius:5px;\n\t\t\t\t\t\twidth:auto;\n\t\t\t\t\t\tmax-width:650px;\n\t\t\t\t\t\ttext-align:left !important;\n\t\t\t\t\t\tmargin-top:30px">\n\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\tstyle="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t\t\t\t\t\t\tfont-weight:400;\n\t\t\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\t\t\tletter-spacing:.3px;\n\t\t\t\t\t\t\tpadding: 0px;\n\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t\twidth: auto;\n\t\t\t\t\t\t\ttext-align:left !important;\n\t\t\t\t\t\t\tcolor:whitesmoke; ">${s(t)}</h1>\n\t\t\t\t\t\t\t<p class="ra"\n\t\t\t\t\t\t\tstyle="color:#344654;\n\t\t\t\t\t\t\tfont-size:0.9rem;\n\t\t\t\t\t\t\tpadding:15px;\n\t\t\t\t\t\t\tbackground-color: #f2c744;\n\t\t\t\t\t\t\tbackground: linear-gradient(\n\t\t\t\t\t\t\t\t310deg,\n\t\t\t\t\t\t\t\t#f2c745 0%,\n\t\t\t\t\t\t\t\t#f3c144 33%,\n\t\t\t\t\t\t\t\t#f3bc44 48%,\n\t\t\t\t\t\t\t\t#f4b643 58%,\n\t\t\t\t\t\t\t\t#f4b043 67%,\n\t\t\t\t\t\t\t\t#f3aa44 76%,\n\t\t\t\t\t\t\t\t#f3a444 84%,\n\t\t\t\t\t\t\t\t#f29e45 100%\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tborder:none;\n\t\t\t\t\t\t\tborder-radius:4px;\n\t\t\t\t\t\t\tfont-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\t\ttext-align:left !important;\n\t\t\t\t\t\t\tmargin-top:15px  !important"\n\t\t\t\t\t\t\tmargin-bottom:0  !important>${n[t-1]}</p>\n\t\t\t\t\t</div>`;let o=`<!DOCTYPE html>\n\t\t\t\t\t\t<html>\n\t\t\t\t\t\t<head>\n\t\t\t\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\t\t\t<title>Email Template</title>\n\t\t\t\t\t\t\t<link rel="preconnect" href="https://fonts.googleapis.com">\n\t\t\t\t\t\t\t<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n\t\t\t\t\t\t\t<link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Open+Sans&display=swap" rel="stylesheet">\n\n\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t*{\n\t\t\t\t\t\t\t\tpadding:0;\n\t\t\t\t\t\t\t\tmargin:0;\n\t\t\t\t\t\t\t\tbox-sizing:border-box;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbody {\n\t\t\t\t\t\t\t\t\tfont-family: 'Open Sans',system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t@media only screen and (max-width:600px){\n\t\t\t\t\t\t\t\t\t#body{}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t.end{\n\t\t\t\t\t\t\t\t\tpadding:7px 10px;\n\t\t\t\t\t\t\t\t\tborder-radius:3px;\n\t\t\t\t\t\t\t\t\tbackground-color:#344654\n\t\t\t\t\t\t\t\t\tcolor:  #f2c744;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t</head>\n\t\t\t\t\t\t<body\n\t\t\t\t\t\tid="body"\n\t\t\t\t\t\tstyle="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tborder-radius:0px;\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tline-height: 1.6;\n\t\t\t\t\t\tpadding:0 !important;\n\t\t\t\t\t\tcolor: #333333;">\n\n\t\t\t\t\t\t\t<table\n\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\tborder="0"\n\t\t\t\t\t\t\tcellspacing="0"\n\t\t\t\t\t\t\tcellpadding="0" align="center">\n\n\t\t\t\t\t\t\t\t<tr align="center">\n\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\talign="center"\n\t\t\t\t\t\t\t\t\tvalign="top"\n\t\t\t\t\t\t\t\t\tstyle="">\n\t\t\t\t\t\t\t\t\t\t<table\n\t\t\t\t\t\t\t\t\t\talign="center"\n\t\t\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\t\t\tborder="0"\n\t\t\t\t\t\t\t\t\t\tcellspacing="00"\n\t\t\t\t\t\t\t\t\t\tcellpadding="00"\n\t\t\t\t\t\t\t\t\t\tstyle="width:100%;\n\t\t\t\t\t\t\t\t\t\tmax-width:900px;\n\t\t\t\t\t\t\t\t\t\tborder-collapse: seperate;\n\t\t\t\t\t\t\t\t\t\tborder-spacing: 0px;\n\t\t\t\t\t\t\t\t\t\tmargin: auto;\n\t\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\t\t\t\tbackground-color: white;\n\t\t\t\t\t\t\t\t\t\tpadding-bottom:10px">\n\t\t\t\t\t\t\t\t\t\t<tbody align="center"\n\t\t\t\t\t\t\t\t\t\t\tstyle="width:100% !important;\n\t\t\t\t\t\t\t\t\t\t\tpadding:0px">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\t\talign="center"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle="width:100% !important;\n\t\t\t\t\t\t\t\t\t\t\t\tpadding:0px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\t\t\talign="start"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalign="top"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle="width:100%;\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding:0px;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor:white; ">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle="color:#344854;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext-align:left !important;">ðŸŽ‰ Hurray!</h1>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont-size:.9rem;\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin-top:15px;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor:#344854;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext-align:left !important;">Below are your answers to each Questions asked</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${a}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</body>\n\t\t\t\t\t\t</html>`;const i=debounce(()=>{showSending("Submitting Form..."),window.screen.availWidth<=415&&gsap.to(".circle-progress",{opacity:0,duration:.25}),window.removeEventListener("keydown",lrkeydownHandler),window.removeEventListener("keydown",entkeydownHandler),disableButtons(!0)},500);i();let r={my_html:o,user:t,reply_to:"gbadebojubril@gmail.com"};const l=debounce(()=>{accountRotator(r)},2e3);l()}}function gotoNextStep(t,e){const n=document.querySelector(".answer-field"),a=document.querySelector(".Question");if(0===t){let e=0===userEmail.value.trim().length;if(e)return userEmail.classList.add("empty-email-field"),void animateErrorMessage(3e3,600,20,"Please enter your email address to continue.","show-error-message","remove-error-message");if(!e){if(!validateEmail(userEmail.value.trim(),t))return void userEmail.classList.add("empty-email-field");goingOutOfWelcome(),sessionStorage.setItem("email",userEmail.value.trim())}}if(t++,lockLogo(t),t>=e.length&&(inner.innerText=sessionStorage.getItem("email"),!0===submittedForm&&(resubmitEmailContainer.style.display="flex",gsap.fromTo(resubmitEmailContainer,{opacity:0},{opacity:1,duration:.3}),dontResubmitButton.onclick=(()=>{gsap.fromTo(resubmitEmailContainer,{opacity:1},{opacity:0,duration:.3}),gsap.to(".control-buttons",{opacity:1,y:0},"<50%"),gsap.to(".circle-progress",{opacity:1},"<");const e=debounce(()=>{resubmitEmailContainer.style.display="none"},400);e(),t-=1,setStage(t)})),!1===submittedForm&&sendEmail(sessionStorage.getItem("email")),animateProgress(20),t=e.length),t<=e.length&&t>0){body.classList.add("soft"),controlButtons.classList.add("csoft"),thankYou.style.display="none";const s=debounce(()=>{ContinueButton.children[0].innerText="Continue",ContinueButton.style.display="flex",BackButton.style.display="flex",ContinueButton.classList.remove("widen"),BackButton.classList.remove("widen")},500);s();try{ChangeEmailButton.style.display="none"}catch(t){}try{if(Object.keys(USERS_FILE[t-1])&&0===Object.keys(USERS_FILE[t-1]).length)return void animateErrorMessage(3e3,600,20,"Please select an option","show-error-message","remove-error-message")}catch(t){}t<=e.length-1&&t>1&&continueDuringSurvey(a,n);const o=debounce(()=>{e[t]&&(a.innerHTML=`<h1 class="qnumbering">Question ${t} of ${e.length-1}</h1>`+askQuestionsInteractively(t,e),displayAnswersInteractively(n,t,e))},500);o()}setStage(t),animateProgress(currentFormStage())}function gotoPreviousStep(t,e){const n=document.querySelector(".answer-field"),a=document.querySelector(".Question");if(t--,t<=0&&(t=0),debounce(()=>{lockLogo(t)},500),setStage(t),animateProgress(currentFormStage()),t===parseInt(Object.keys(USERS_FILE).length)&&(backToForm(startQuestion,a,n),controlButtons.style.display="flex",body.classList.remove("blurbody")),0===currentFormStage()&&(controlButtons.style.display="flex",body.classList.remove("blurbody")),t<=0||0===currentFormStage()){thankYou.style.display="none";const t=debounce(()=>{BackButton.style.display="none",ContinueButton.classList.add("widen"),controlButtons.classList.remove("csoft"),startQuestion.style.display="none",starterPage.style.display="flex"},500);return t(),void backToWelcome()}t>0&&(t<parseInt(Object.keys(USERS_FILE).length)&&continueDuringSurvey(a,n),setTimeout(()=>{ContinueButton.style.display="flex",BackButton.style.display="flex",BackButton.classList.remove("widen"),ContinueButton.classList.remove("widen")},500),setTimeout(()=>{a.innerHTML=`<h1 class="qnumbering">Question ${t} of ${e.length-1}</h1>`+askQuestionsInteractively(t,e),displayAnswersInteractively(n,t,e)},500))}function markAlreadyChosenSelections(t){const e=document.querySelectorAll(".ans-box");let n=Object.entries(USERS_FILE[t]).map(t=>t[0]);e.forEach(t=>{n.filter(e=>{t.dataset.id===e&&(t.classList.value.includes("textonlybox")&&addCheckAnimationForTextBoxOnly(t.children[0],t),t.classList.value.includes("text-imgbox")&&addCheckAnimationForImgTextBox(t.children[0],t),t.classList.value.includes("bare-ans")&&addCheckAnimationForIconAndText(t.children[0],t),t.classList.value.includes("two-ans")&&addCheckAnimationForTwoAns(t.children[0],t))})})}function askQuestionsInteractively(t,e){switch(t){case 2:case 3:let n=[];for(let t in USERS_FILE[1])n.push(USERS_FILE[1][t].answerText);return`${e[t].question} ${n[0]} ?`;default:return e[t].question}}function displayAnswersInteractively(t,e,n){function a(n,a){t.innerHTML="",setTimeout(()=>{switch(e){case 1:case 9:case 10:t.innerHTML+=`\n\t\t\t\t\t<div class="text-imgbox ans-box" id="ss" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t\t<div class="checker2" data-answer="${a.text}" data-id="${n}" ></div>\n\t\t\t\t\t\t<div class="image-container2" style="background-image:url(${a.img})" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t\t\t<div class="shade" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t\t\t\t<h2 class="ans-text img-ans-text"  data-answer="${a.text}" data-id="${n}">${a.text}</</h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>`;break;case 11:t.classList.add("ans-with-2options"),t.innerHTML+=`<div class="two-ans ans-box" id="two-ans-box" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t<div class="tools-ans-checker"></div>\n\t\t\t\t\t<div id ="two-ans-logo-disp" style='background-image:url("${a.img}")'  class="ans-logo" data-answer="${a.text}" data-id="${n}"></div>\n\t\t\t\t\t\t<p class="textt" data-answer="${a.text}" data-id="${n}"> ${a.text}</p>\n\t\t\t\t\t</div>`;break;case 2:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 12:t.innerHTML+=`\n\t\t\t\t\t<div class="textonlybox ans-box" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t\t<div class="text-checker" data-answer="${a.text}" data-id="${n}"></div>\n\t\t\t\t\t\t<div class="text-content" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t\t\t<p class="box-text" data-answer="${a.text}" data-id="${n}">${a.text}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;break;case 3:t.innerHTML+=`\n\t\t\t\t\t<div class="bare-ans ans-box" data-answer="${a.text}" data-id="${n}">\n\t\t\t\t\t<div class="tools-ans-checker"></div>\n\t\t\t\t\t<div id ="logo-disp" style='background-image:url("${a.img}")'  class="ans-logo" data-answer="${a.text}" data-id="${n}"></div>\n\t\t\t\t\t\t<p data-answer="${a.text}" data-id="${n}"> ${a.text}</p>\n\t\t\t\t\t</div>`}switch(e){case 1:case 9:case 10:t.classList.add("eight-ans-grid");break;case 3:t.classList.add("icon-text-ans");break;case 13:t.classList.add("continous-two");break;case 4:case 5:case 6:case 7:case 8:case 14:case 15:t.classList.add("ans-with-4ans-textonly");break;case 16:case 17:case 18:case 12:const n=document.querySelectorAll(".ans-box");n.forEach(t=>t.classList.add("five-texts-ans")),t.classList.add("ans-with-5option-textonly");break;case 19:case 20:case 2:t.classList.add("straight-ans")}handleAnswers(e)},0)}let s=["eight-ans-grid","icon-text-ans","continous-two","ans-with-4ans-textonly","ans-with-5option-textonly","straight-ans","ans-with-2options"];if(s.forEach(e=>{t.classList.value.includes(e)&&t.classList.remove(e)}),n[e].answers[0].text&&n[e].answers.forEach((t,e)=>{a(e,t)}),!n[e].answers[0].text){let t=parseInt(Object.keys(USERS_FILE[1])[0]);function o(t){n[e].answers[t].forEach((t,e)=>{a(e,t)})}switch(t){case 0:case 2:o(0);break;case 1:case 3:o(1);break;case 4:o(2);break;case 5:o(3);break;case 6:o(4);break;case 7:o(5);break;default:return}}}function addClass(t){let e=[t.target,t.target.parentElement,t.target.parentElement.parentElement,t.target.parentElement.parentElement.parentElement];for(let t in e){if(e[t].classList.value.includes("text-imgbox")){addCheckAnimationForImgTextBox(e[t].children[0],e[t]);break}if(e[t].classList.value.includes("textonlybox")){addCheckAnimationForTextBoxOnly(e[t].children[0],e[t]);break}if(e[t].classList.value.includes("bare-ans")){addCheckAnimationForIconAndText(e[t].children[0],e[t]);break}if(e[t].classList.value.includes("two-ans")){addCheckAnimationForTwoAns(e[t].children[0],e[t]);break}}}function removeClass(t){let e=[t.target,t.target.parentElement,t.target.parentElement.parentElement,t.target.parentElement.parentElement.parentElement];for(let t in e){if(e[t].classList.value.includes("text-imgbox")){removeCheckAnimationForImgTextBox(e[t].children[0],e[t]);break}if(e[t].classList.value.includes("textonlybox")){removeCheckAnimationForTextBoxOnly(e[t].children[0],e[t]);break}if(e[t].classList.value.includes("bare-ans")){removeCheckAnimationForIconAndText(e[t].children[0],e[t]);break}if(e[t].classList.value.includes("two-ans")){removeCheckAnimationForTwoAns(e[t].children[0],e[t]);break}}}function markAndSaveSelections(t,e,n){t||(selectionChoice.innerText="Please select only one.",e.forEach(a=>{a.addEventListener("click",a=>{let s=a.target;e.forEach(t=>{t.classList.value.includes("text-imgbox")?removeCheckAnimationForImgTextBox(t.children[0],t):t.classList.value.includes("textonlybox")?removeCheckAnimationForTextBoxOnly(t.children[0],t):(t.classList.value.includes("bare-ans")&&removeCheckAnimationForIconAndText(t.children[0],t),t.classList.value.includes("two-ans")&&removeCheckAnimationForTwoAns(t.children[0],t))}),addClass(a),1===n&&reset(),addAnswerToPersonObject(t,s.dataset.id,s.dataset.answer,n)})})),t&&(selectionChoice.innerText="You can select as many as you wish.",e.forEach(e=>{e.addEventListener("click",e=>{let a=[e.target,e.target.parentElement,e.target.parentElement.parentElement,e.target.parentElement.parentElement.parentElement];for(let s in a){if(a[s].classList.value.includes("text-imgbox")&&a[s].children[0].classList.value.includes("checked2")||a[s].classList.value.includes("textonlybox")&&a[s].children[0].classList.value.includes("text-checked")||a[s].classList.value.includes("bare-ans")&&a[s].children[0].classList.value.includes("opacity")||a[s].classList.value.includes("two-ans")&&a[s].children[0].classList.value.includes("opacity")){removeClass(e),removeAnswerToPersonObject(a[s].dataset.id,n);break}(a[s].classList.value.includes("bare-ans")&&!a[s].children[0].classList.value.includes("opacity")||a[s].classList.value.includes("textonlybox")&&!a[s].children[0].classList.value.includes("text-checked")||a[s].classList.value.includes("text-imgbox")&&!a[s].children[0].classList.value.includes("checked2")||a[s].classList.value.includes("two-ans")&&a[s].children[0].classList.value.includes("opacity"))&&(addClass(e),addAnswerToPersonObject(t,a[s].dataset.id,a[s].dataset.answer,n))}})}))}function moreThanOneSelectionIsPermitted(t){switch(t){case 3:case 9:case 10:return!0;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:return!1}}function handleAnswers(t){const e=document.querySelectorAll(".ans-box"),n=moreThanOneSelectionIsPermitted(t);document.querySelectorAll(".end").forEach(t=>{t.disabled=!0}),t<=Questions.length-1&&t>0&&(starterPage.style.display="none",startQuestion.style.display="flex",thankYou.style.display="none",markAlreadyChosenSelections(t),markAndSaveSelections(n,e,t))}function removeAnswerToPersonObject(t,e){delete USERS_FILE[e][t]}function addAnswerToPersonObject(t,e,n,a){t&&(USERS_FILE[a][e]={...USERS_FILE[a][e],answerText:n}),t||(USERS_FILE[a]={[e]:{answerText:n}})}function enterKeyDebounce(t,e){clearTimeout(fk),fk=setTimeout(t,e)}function leftnRightkeyDebounce(t,e){clearTimeout(fy),fy=setTimeout(t,e)}function continueButtonDebounce(t,e){clearTimeout(ckdb),ckdb=setTimeout(t,e)}function backButtonDebounce(t,e){clearTimeout(bkdb),bkdb=setTimeout(t,e)}function keydownHandler(t){!0!==otfp&&(currentFormStage()!==Object.values(USERS_FILE).length+1?currentFormStage()<=Object.values(USERS_FILE).length&&currentFormStage()>0&&("ArrowRight"===t.key&&gotoNextStep(currentFormStage(),Questions),"ArrowLeft"===t.key&&gotoPreviousStep(currentFormStage(),Questions)):"ArrowLeft"===t.key&&gotoPreviousStep(currentFormStage(),Questions))}function enterKeyPressHandler(t){currentFormStage()<Object.values(USERS_FILE).length+1&&"Enter"===t.key&&gotoNextStep(currentFormStage(),Questions)}import Questions from"./questions.min.js";import{backToForm,continueDuringSurvey,backToWelcome,goingOutOfWelcome}from"./animations.min.js";import accountRotator,{submittedForm}from"./accountrotator.min.js";const body=document.querySelector("#body"),controlButtons=document.querySelector(".control-buttons"),textInputFields=document.querySelectorAll(".ads"),textFieldLabels=document.querySelectorAll("label"),selectionChoice=document.querySelector(".selection-rule");export const ContinueButton=document.getElementById("continue");export const BackButton=document.querySelector(".back-button");const ChangeEmailButton=document.getElementById("changeemail"),progressSVG=document.querySelector(".progress"),progress=document.querySelector(".percentage"),currentStage=document.querySelector(".current-stage"),errorMessage=document.querySelector(".error-message"),loaderDOM=document.querySelector(".loader"),changeEmailContainer=document.querySelector(".change-email"),resubmitEmailContainer=document.querySelector(".resubmitmodal"),editfield=document.getElementById("edit"),cancel=document.querySelectorAll(".cancel"),changeEmail=document.querySelectorAll(".saveemail"),inner=document.querySelector(".inner"),successText=document.querySelector(".sent-message"),errorText=document.querySelector(".error-text"),starterPage=document.querySelector(".q-container"),startQuestion=document.querySelector(".main-Q-container"),thankYou=document.querySelector(".thank-you"),userEmail=document.getElementById("email"),changeEmailBox=document.querySelector(".email"),dontResubmitButton=document.querySelector(".no"),emailRegex=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/),buttons=document.querySelectorAll(".btnn"),menuContainer=document.querySelector(".menu"),menuCancelButton=document.querySelector(".menu-cancel"),menuChildren=document.querySelectorAll(".menu-child"),homeButton=document.querySelector(".home"),menuChangeEmailButton=document.querySelector(".change"),menuButton=document.querySelector(".menu-button-container"),saveNewEmailModal=document.querySelector(".changeemailmodal"),saveNewEmailButton=document.querySelector(".savemynewemail"),changeEmailCancelButton=document.querySelector(".changecancel"),saveNewEmailField=document.querySelector("#changemyemail"),errorMessageCanceler=document.querySelector(".error-cancel"),submitLoader=document.querySelector(".circle-loader");let otfp=!1;body.classList.add("soft");export function debounce(t,e){let n;return function(...a){n&&clearTimeout(n),n=setTimeout(()=>{t.apply(this,a)},e)}}export const disableButtons=t=>{buttons.forEach(e=>{t&&(e.disabled=!0),t||(e.disabled=!1)})};lockLogo(0),changeEmailBox.addEventListener("click",t=>{editfield.focus(),editfield.contentEditable=!0}),ContinueButton.classList.add("widen"),window.screen.availWidth<=480&&(currentStage.x.baseVal[0].value=100,currentStage.y.baseVal[0].value=145,ContinueButton.classList.add("widen"));let USERS_FILE=new Object({1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{},9:{},10:{},11:{},12:{},13:{},14:{},15:{},16:{},17:{},18:{},19:{},20:{}});export function setStage(t){sessionStorage.setItem("form-stage",t.toString())}setStage(0);export function currentFormStage(){let t=parseInt(sessionStorage.getItem("form-stage"));return t}[textFieldLabels,textInputFields].forEach(t=>{t.forEach(t=>{let e=["click","focus"];e.forEach(e=>{t.addEventListener(e,t=>{"LABEL"===t.target.nodeName&&(t.target.nextElementSibling.focus(),t.target.nextElementSibling.click()),"INPUT"===t.target.nodeName&&(t.target.offsetParent.children[1].style.border="1px solid #2260ff",t.target.offsetParent.firstElementChild.classList+=" move-up")})})}),t.forEach(t=>{t.addEventListener("blur",t=>{if(t.target.classList.value.includes("ads"))try{0===t.target.value.trim().length&&(t.target.offsetParent.firstElementChild.classList.remove("move-up"),t.target.offsetParent.children[1].style.border="")}catch(t){}})})}),textInputFields[0].value.length>0&&(textInputFields[0].offsetParent.firstElementChild.classList+=" move-up",textInputFields[0].offsetParent.children[1].style.border="1px solid #2260ff"),homeButton.onclick=(()=>goHome()),changeEmailCancelButton.onclick=(()=>closeModal()),menuChangeEmailButton.onclick=(()=>showChangeEmailModal()),menuCancelButton.onclick=(()=>closeMenu()),menuButton.onclick=(()=>openMenu()),saveNewEmailButton.onclick=(()=>validateAndSaveNewUserEmail()),saveNewEmailField.onkeydown=(t=>{"Enter"===t.key&&(validateAndSaveNewUserEmail(),debounce(()=>{window.addEventListener("keydown",entkeydownHandler),window.addEventListener("keydown",lrkeydownHandler)},200)())}),window.onclick=(t=>{t.target.classList.value.includes("mod")||closeMenu()});export function animateErrorMessage(t,e,n,a,s,o){errorText.innerText=a;const i=errorText.scrollWidth+40;let r=["remove-error-message","remove-reset-message"];for(let t of r)errorMessage.classList.remove(t);errorMessage.classList.add(s),window.screen.availWidth<=1024&&currentFormStage()>0&&gsap.to(".circle-progress",{opacity:0,duration:.3}),window.screen.availWidth>=1024&&(errorMessage.style.width=`${n}px`),window.screen.availWidth<1024&&(errorMessage.style.width="100%");const l=debounce(()=>{window.screen.availWidth>=1024?errorMessage.style.width=i+"px":errorMessage.style.width="100%"},e/2);l();const c=debounce(()=>{errorText.style.opacity="1"},e);c();const d=debounce(()=>{let t=["show-error-message","show-reset-message"];window.screen.availWidth>=1024&&(errorMessage.style.width=`${n}px`),errorText.style.opacity="0";const a=debounce(()=>{for(let e of t)errorMessage.classList.remove(e);errorMessage.classList.add(o)},e/2);a(),window.screen.availWidth<=1024&&currentFormStage()>0&&gsap.to(".circle-progress",{opacity:1,duration:.3,delay:.6})},t);d();const u=debounce(()=>{window.screen.availWidth>=1024&&(errorMessage.style.width="auto"),window.screen.availWidth<1024&&(errorMessage.style.width="100%"),userEmail.classList.remove("empty-email-field")},t+e);u()}errorMessageCanceler.onclick=(()=>closeErrorMessage());const addCheckAnimationForImgTextBox=t=>{let e=t;e.classList.add("checked2")},removeCheckAnimationForImgTextBox=t=>{let e=t;e.classList.remove("checked2")},addCheckAnimationForTextBoxOnly=(t,e)=>{let n=t,a=e;n.classList.add("text-checked"),a.classList.add("textcontainer-checked")},removeCheckAnimationForTextBoxOnly=(t,e)=>{let n=t,a=e;n.classList.remove("text-checked"),a.classList.remove("textcontainer-checked")},addCheckAnimationForIconAndText=(t,e)=>{let n=t,a=e;n.classList.add("opacity"),a.classList.add("tools-ans-checked")},removeCheckAnimationForIconAndText=(t,e)=>{let n=t,a=e;n.classList.remove("opacity"),a.classList.remove("tools-ans-checked")},addCheckAnimationForTwoAns=(t,e)=>{let n=t,a=e;n.classList.add("opacity"),a.classList.add("two-ans-container-checked")},removeCheckAnimationForTwoAns=(t,e)=>{let n=t,a=e;n.classList.remove("opacity"),a.classList.remove("two-ans-container-checked")};let fk,fy,ckdb,bkdb;changeEmailContainer.style.display="none",resubmitEmailContainer.style.display="none",inner.onfocus=(()=>{const t=document.querySelector(".email");t.style.overflow="scroll",inner.classList.remove("turndot","turndot"),inner.contentEditable=!0,otfp=!0}),inner.onblur=(()=>{otfp=!1;const t=document.querySelector(".email");inner.classList.add("turndot"),t.style.overflow="hidden",editfield.innerText!==sessionStorage.getItem("email")&&(validateEmail(editfield.innerText)&&(changeEmailContainer.style.display="flex",gsap.fromTo(changeEmailContainer,{opacity:0},{opacity:1,duration:.3})),validateEmail(editfield.innerText)||(inner.innerText=sessionStorage.getItem("email")))}),inner.onkeydown=(t=>{otfp=!0,"Enter"===t.key&&(editfield.contentEditable=!1,editfield.innerText!==sessionStorage.getItem("email")&&(validateEmail(editfield.innerText)&&(changeEmailContainer.style.display="flex",gsap.fromTo(changeEmailContainer,{opacity:0},{opacity:1,duration:.3})),validateEmail(editfield.innerText)||(editfield.contentEditable=!0,editfield.innerText=sessionStorage.getItem("email"),editfield.style.width="auto")))}),changeEmail.forEach(t=>{t.onclick=(()=>{sessionStorage.setItem("email",editfield.innerText),sendEmail(sessionStorage.getItem("email",editfield.innerText)),gsap.to(changeEmailContainer,{opacity:0,duration:.3}),gsap.to(resubmitEmailContainer,{opacity:0,duration:.3});const t=debounce(()=>{changeEmailContainer.style.display="none",resubmitEmailContainer.style.display="none"},300);t()})}),cancel.forEach(t=>{t.onclick=(t=>{closeModal(),t.target.classList.value.includes("c2")&&setStage(currentFormStage()-1)})}),ContinueButton.addEventListener("click",t=>{continueButtonDebounce(()=>gotoNextStep(currentFormStage(),Questions),400)}),BackButton.addEventListener("click",t=>{backButtonDebounce(()=>gotoPreviousStep(currentFormStage(),Questions),400)}),window.addEventListener("keydown",lrkeydownHandler),window.addEventListener("keydown",entkeydownHandler);export function lrkeydownHandler(t){leftnRightkeyDebounce(()=>{keydownHandler(t)},400)}export function entkeydownHandler(t){enterKeyDebounce(()=>{enterKeyPressHandler(t)},400)}animateProgress(0);